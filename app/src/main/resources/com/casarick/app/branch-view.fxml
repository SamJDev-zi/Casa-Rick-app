<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="600.0" prefWidth="900.0" style="-fx-background-color: #f4f4f4;" 
            xmlns="http://javafx.com/javafx/17.0.2.1" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.casarick.app.controller.admin.BranchController">
    
    <children>
        <HBox alignment="CENTER_LEFT" prefHeight="70.0" spacing="20.0" 
              style="-fx-background-color: #2c3e50;" 
              AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            
            <children>
                <Label text="ADMINISTRACIÓN DE SUCURSALES" textFill="WHITE">
                    <font>
                        <Font name="System Bold" size="20.0" />
                    </font>
                </Label>
                <Pane HBox.hgrow="ALWAYS" />
                <Button onAction="#handleCreateNewBranch" prefHeight="35.0" 
                        style="-fx-background-color: #27ae60; -fx-font-weight: bold;" 
                        text="+ CREAR SUCURSAL" textFill="WHITE" />
                <Button fx:id="btnBack" onAction="#handleBack" prefHeight="35.0" 
                        style="-fx-background-color: #e74c3c; -fx-font-weight: bold;" 
                        text="VOLVER" textFill="WHITE" />
            </children>
            
            <padding>
                <Insets left="25.0" right="25.0" />
            </padding>
        </HBox>

        <SplitPane dividerPositions="0.65" 
                  AnchorPane.bottomAnchor="0.0" 
                  AnchorPane.leftAnchor="0.0" 
                  AnchorPane.rightAnchor="0.0" 
                  AnchorPane.topAnchor="70.0">
            
            <items>
                <VBox spacing="10.0">
                    <padding>
                        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                    </padding>
                    
                    <children>
                        <TableView fx:id="tblBranches" VBox.vgrow="ALWAYS">
                            <columns>
                                <TableColumn fx:id="colId" prefWidth="50.0" text="ID" />
                                <TableColumn fx:id="colName" prefWidth="150.0" text="Nombre" />
                                <TableColumn fx:id="colAddress" prefWidth="180.0" text="Dirección" />
                                <TableColumn fx:id="colPhone" prefWidth="110.0" text="Teléfono" />
                                <TableColumn fx:id="colStatus" prefWidth="85.0" text="Activa" />
                            </columns>
                        </TableView>
                    </children>
                </VBox>

                <VBox fx:id="paneEdit" disable="true" spacing="15.0" style="-fx-background-color: white;">
                    <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                    </padding>
                    
                    <children>
                        <Label text="EDITAR SUCURSAL" style="-fx-font-weight: bold; -fx-font-size: 16px;" />
                        <Separator />

                        <VBox spacing="5.0">
                            <Label text="Nombre Sucursal:" />
                            <TextField fx:id="txtEditName" promptText="Nuevo nombre..." />
                        </VBox>

                        <VBox spacing="5.0">
                            <Label text="Dirección:" />
                            <TextField fx:id="txtEditAddress" promptText="Nueva dirección..." />
                        </VBox>

                        <VBox spacing="5.0">
                            <Label text="Teléfono:" />
                            <TextField fx:id="txtEditPhone" promptText="Nuevo teléfono..." />
                        </VBox>

                        <VBox spacing="5.0">
                            <Label text="Estado de Sucursal:" />
                            <ComboBox fx:id="cbEditStatus" />
                        </VBox>

                        <Pane VBox.vgrow="ALWAYS" />
                        
                        <Button onAction="#handleUpdateAction" prefHeight="45.0" 
                                style="-fx-background-color: #3498db; -fx-font-weight: bold;" 
                                text="GUARDAR CAMBIOS" textFill="WHITE" />
                    </children>
                </VBox>
            </items>
        </SplitPane>
    </children>
</AnchorPane>